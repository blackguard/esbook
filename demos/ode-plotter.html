<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ode-plotter.esbook</title>
    <script defer type="module">
        const default_server_endpoint = 'https://blackguard.github.io/esbook/build/';
        const server_endpoint = new URL(location).searchParams.get('s') ?? default_server_endpoint;
        const loading_indicator_el = document.createElement('h1');
        loading_indicator_el.innerText = 'Loading...';
        document.body.insertBefore(loading_indicator_el, document.body.firstChild);
        try {
            await import(new URL('./src/init.js', server_endpoint));
        } catch (error) {
            document.body.innerHTML = '<h1>Failed to Load</h1><h2>Server endpoint: '+server_endpoint+'</h2><pre>'+error.stack+'</pre>';
        } finally {
            loading_indicator_el.remove();
        }
    </script>
</head>
<body>
<div id="initializing-data-f55c8878-87c8-11ec-b7c3-273bd5f809b1" style="display:none">
eyJuYl90eXBlIjoiZXNib29rIiwibmJfdmVyc2lvbiI6IjIuMC4wIiwiZWxlbWVudHMiOlt7ImlkIjoiaWQtYmI1MjI5ZWMtMWY3NS00NjhlLWI2NDktYjJmYmM5ODZlMTU4IiwiaW5wdXQiOiIvLyBhdXRvZXZhbCIsIm91dHB1dCI6W10sImZvcm1hdHRpbmdfb3B0aW9ucyI6eyJhbGlnbiI6ImxlZnQiLCJpbmRlbnQiOiIwZW0ifX0seyJpZCI6ImlkLTY1YWZlNmM5LTY3YWItNDY0Ni1hNWFlLWEzMGFiZmViYTdhNCIsImlucHV0IjoiRXZhbHVhdGUgdGhpcyBlbnRpcmUgbm90ZWJvb2sgdG8gZ2V0IHN0YXJ0ZWQgKGZyb20gdGhlIG1lbnU6IEVsZW1lbnQtPkV2YWwgbm90ZWJvb2spXG5UaGVuLCBjbGljayB0aGUgR28gYnV0dG9uIHRvIHN0YXJ0LlxuRXF1YXRpb25zIGFuZCBwYXJhbWV0ZXJzIG1heSBiZSBtb2RpZmllZCBpbiBjb2RlIGluIHRoZSBsYXN0IGVsZW1lbnQuIiwib3V0cHV0IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJFdmFsdWF0ZSB0aGlzIGVudGlyZSBub3RlYm9vayB0byBnZXQgc3RhcnRlZCAoZnJvbSB0aGUgbWVudTogRWxlbWVudC0+RXZhbCBub3RlYm9vaylcblRoZW4sIGNsaWNrIHRoZSBHbyBidXR0b24gdG8gc3RhcnQuXG5FcXVhdGlvbnMgYW5kIHBhcmFtZXRlcnMgbWF5IGJlIG1vZGlmaWVkIGluIGNvZGUgaW4gdGhlIGxhc3QgZWxlbWVudC4ifV0sImZvcm1hdHRpbmdfb3B0aW9ucyI6eyJhbGlnbiI6ImxlZnQiLCJpbmRlbnQiOiIwZW0ifX0seyJpZCI6ImlkLTYyNTg2ODk2LTI2ZGItNDU2Zi1hOTMyLTAxMGI3NDM2OWU3MiIsImlucHV0IjoiLy8gYXV0b2hpZGVcblxuY2xhc3MgV29ya2VyUG9vbCB7XG4gICAgY29uc3RydWN0b3Iod29ya2VyX2NvdW50PW5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIHdvcmtlcl9jb3VudDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB3b3JrZXJfY291bnQsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl93b3JrZXJzID0gW107XG4gICAgICAgIHRoaXMuX3VwZGF0ZV9wb29sKCk7XG4gICAgfVxuXG4gICAgZ2V0IHdvcmtlcnMgKCl7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXJzLnNvbWUodyA9PiB3LnRlcm1pbmF0ZWQpKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfcG9vbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JrZXJzO1xuICAgIH1cblxuICAgIF91cGRhdGVfcG9vbCgpIHtcbiAgICAgICAgdGhpcy5fd29ya2VycyA9IHRoaXMuX3dvcmtlcnMuZmlsdGVyKHcgPT4gIXcudGVybWluYXRlZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl93b3JrZXJzLmxlbmd0aDsgaSA8IHRoaXMud29ya2VyX2NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlcnMucHVzaChjcmVhdGVfd29ya2VyKCkpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFycyh7IHdvcmtlcl9wb29sOiB0aGlzLmV2YWxfY29udGV4dC53b3JrZXJfcG9vbCA/PyBuZXcgV29ya2VyUG9vbCgpIH0pOyIsIm91dHB1dCI6W10sImZvcm1hdHRpbmdfb3B0aW9ucyI6eyJhbGlnbiI6ImxlZnQiLCJpbmRlbnQiOiIwZW0ifX0seyJpZCI6ImlkLTIyMTEzN2Q0LTRjYzAtNDAxZS05ZDEyLTgwZjc4NzgxMTQwZCIsImlucHV0IjoiLy8gYXV0b2hpZGVcbmNvbnN0IHtcbiAgICBQbG90bHksXG59ID0gYXdhaXQgaW1wb3J0KCcuL291dHB1dC1oYW5kbGVycy9wbG90bHkuanMnKTtcblxuY29uc3QgaHRtbCA9IGBcbjxzdHlsZT5cbiAgICAjb2RlX3Bsb3R0ZXJfaW5mb19kaXNwbGF5IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAycmVtO1xuICAgIH1cblxuICAgICNvZGVfcGxvdHRlcl9wbGF5X2NvbnRyb2xzIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDAuNXJlbTtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDAuNXJlbTtcbiAgICB9XG5cbiAgICAjb2RlX3Bsb3R0ZXJfY29udHJvbHMge1xuICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgfVxuICAgICNvZGVfcGxvdHRlcl9jb250cm9scyBkaXYgKiB7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgfVxuXG4gICAgI29kZV9wbG90dGVyX2FkanVzdG1lbnRzIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtYXgtY29udGVudCBtYXgtY29udGVudDtcbiAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgfVxuICAgICNvZGVfcGxvdHRlcl9hZGp1c3RtZW50cyBsYWJlbCB7XG4gICAgICAgIGp1c3RpZnktc2VsZjogZW5kO1xuICAgIH1cblxuICAgICNvZGVfcGxvdHRlcl9jb25maWdfZGlzcGxheSB7XG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICB9XG5cbiAgICAub2RlX3Bsb3R0ZXJfZGlzcGxheSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwLjFyZW07XG4gICAgICAgIHBhZGRpbmc6IDAgMC41cmVtO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIH1cblxuICAgIC5oaWRkZW4ge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbjwvc3R5bGU+XG5cbjxkaXYgaWQ9XCJvZGVfcGxvdHRlcl9wbGF5X2NvbnRyb2xzXCI+XG4gICAgPGJ1dHRvbiBpZD1cIm9kZV9wbG90dGVyX2dvXCI+R288L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwib2RlX3Bsb3R0ZXJfcGF1c2VcIiBjbGFzcz1cImhpZGRlblwiPlBhdXNlPC9idXR0b24+XG48L2Rpdj5cbjxkaXYgaWQ9XCJvZGVfcGxvdHRlcl9pbmZvX2Rpc3BsYXlcIj5cbiAgICA8ZGl2IGlkPVwib2RlX3Bsb3R0ZXJfY29udHJvbHNcIj5cbiAgICAgICAgPGRpdiBpZD1cIm9kZV9wbG90dGVyX2FkanVzdG1lbnRzXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwicG9pbnRzX3Blcl9sb29wXCI+VGltZSBzdGVwcyBwZXIgbG9vcDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cInBvaW50c19wZXJfbG9vcFwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9XCIxMDAwMFwiIHZhbHVlPVwiMTAwMFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwicG9pbnRzX3Blcl9sb29wX2Rpc3BsYXlcIiBjbGFzcz1cIm9kZV9wbG90dGVyX2Rpc3BsYXlcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJsb29wX2RlbGF5XCI+TG9vcCBkZWxheTwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImxvb3BfZGVsYXlcIiB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJsb29wX2RlbGF5X2Rpc3BsYXlcIiBjbGFzcz1cIm9kZV9wbG90dGVyX2Rpc3BsYXlcIj48L3NwYW4+IG1zXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwb2ludHNfc2hvd25cIj5UaW1lIHN0ZXBzIHNob3duPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwicG9pbnRzX3Nob3duXCIgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwMDAwMFwiIHN0ZXA9XCIxMFwiIHZhbHVlPVwiMjAwMDBcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInBvaW50c19zaG93bl9kaXNwbGF5XCIgY2xhc3M9XCJvZGVfcGxvdHRlcl9kaXNwbGF5XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwicG9pbnRfY291bnRfZGlzcGxheVwiPlRvdGFsIHRpbWUgc3RlcHM8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInBvaW50X2NvdW50X2Rpc3BsYXlcIiBjbGFzcz1cIm9kZV9wbG90dGVyX2Rpc3BsYXlcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImhpZGRlblwiIGZvcj1cInBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheVwiPlBvaW50IGNsb3VkIHN0ZXBzPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheVwiIGNsYXNzPVwib2RlX3Bsb3R0ZXJfZGlzcGxheVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiaGlkZGVuXCIgZm9yPVwicG9pbnRfY2xvdWRfcG9pbnRzX3Blcl9sb29wXCI+UEMgc3RlcHMgcGVyIGxvb3A8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cInBvaW50X2Nsb3VkX3BvaW50c19wZXJfbG9vcFwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInBvaW50X2Nsb3VkX3BvaW50c19wZXJfbG9vcF9kaXNwbGF5XCIgY2xhc3M9XCJvZGVfcGxvdHRlcl9kaXNwbGF5XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJvZGVfcGxvdHRlcl9jb25maWdfZGlzcGxheVwiPjwvZGl2PlxuPC9kaXY+XG48ZGl2IGlkPVwib2RlX3Bsb3R0ZXJfcGxvdFwiPjwvZGl2PlxuYDtcblxuZnVuY3Rpb24gc2V0dXAodGhlX291dHB1dF9jb250ZXh0LCB0aGVfZXF1YXRpb25fZGVmKSB7XG4gICAgdGhlX291dHB1dF9jb250ZXh0LmNyZWF0ZV9vdXRwdXRfZWxlbWVudCgpLmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICBjb25zdCBwbG90X2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kZV9wbG90dGVyX3Bsb3QnKTtcblxuICAgIGNvbnN0IGdvX2J1dHRvbiAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGVfcGxvdHRlcl9nbycpO1xuICAgIGNvbnN0IHBhdXNlX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGVfcGxvdHRlcl9wYXVzZScpO1xuXG4gICAgZnVuY3Rpb24gc2V0X2dvX2J1dHRvbl9zdGF0ZShydW5uaW5nKSB7XG4gICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICBnb19idXR0b24uaW5uZXJUZXh0ID0gJ1N0b3AnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ29fYnV0dG9uLmlubmVyVGV4dCA9ICdHbyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRfcGF1c2VfYnV0dG9uX3N0YXRlKHBhdXNlZCwgcnVubmluZykge1xuICAgICAgICBwYXVzZV9idXR0b24uaW5uZXJUZXh0ID0gcGF1c2VkID8gJ1Jlc3VtZScgOiAnUGF1c2UnO1xuICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgcGF1c2VfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF1c2VfYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldF9nb19idXR0b25fc3RhdGUoZmFsc2UpO1xuICAgIHNldF9wYXVzZV9idXR0b25fc3RhdGUoZmFsc2UsIGZhbHNlKTtcblxuICAgIGNvbnN0IHBvaW50c19wZXJfbG9vcF9lbCAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9pbnRzX3Blcl9sb29wJyk7XG4gICAgY29uc3QgbG9vcF9kZWxheV9lbCAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb29wX2RlbGF5Jyk7XG4gICAgY29uc3QgcG9pbnRzX3Nob3duX2VsICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2ludHNfc2hvd24nKTtcbiAgICBjb25zdCBwb2ludF9jb3VudF9kaXNwbGF5X2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvaW50X2NvdW50X2Rpc3BsYXknKTtcblxuICAgIGNvbnN0IHBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheV9lbCAgICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5Jyk7XG4gICAgY29uc3QgcG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5X3BhcmVudF9lbCAgICA9IHBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheV9lbC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheV9sYWJlbF9lbCAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9XCJwb2ludF9jbG91ZF9sb29wX2Rpc3BsYXlcIl0nKTtcbiAgICBjb25zdCBwb2ludF9jbG91ZF9wb2ludHNfcGVyX2xvb3BfbGFiZWxfZWwgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPVwicG9pbnRfY2xvdWRfcG9pbnRzX3Blcl9sb29wXCJdJyk7XG4gICAgY29uc3QgcG9pbnRfY2xvdWRfcG9pbnRzX3Blcl9sb29wX2VsICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2ludF9jbG91ZF9wb2ludHNfcGVyX2xvb3AnKTtcbiAgICBjb25zdCBwb2ludF9jbG91ZF9wb2ludHNfcGVyX2xvb3BfcGFyZW50X2VsID0gcG9pbnRfY2xvdWRfcG9pbnRzX3Blcl9sb29wX2VsLnBhcmVudEVsZW1lbnQ7XG5cbiAgICBmb3IgKGNvbnN0IHJhbmdlX2lkIG9mIFtcbiAgICAgICAgJ3BvaW50c19wZXJfbG9vcCcsXG4gICAgICAgICdsb29wX2RlbGF5JyxcbiAgICAgICAgJ3BvaW50c19zaG93bicsXG4gICAgICAgICdwb2ludF9jbG91ZF9wb2ludHNfcGVyX2xvb3AnLFxuICAgIF0pIHtcbiAgICAgICAgY29uc3QgcmFuZ2VfZWwgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJhbmdlX2lkKTtcbiAgICAgICAgY29uc3QgZGlzcGxheV9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3JhbmdlX2lkfV9kaXNwbGF5YCk7XG4gICAgICAgIGRpc3BsYXlfZWwuaW5uZXJUZXh0ID0gcmFuZ2VfZWwudmFsdWU7XG4gICAgICAgIHJhbmdlX2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkaXNwbGF5X2VsLmlubmVyVGV4dCA9IHJhbmdlX2VsLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRfcG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5KHZpc2libGUsIHZhbHVlPScnKSB7XG4gICAgICAgIHBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheS5pbm5lclRleHQgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgYWZmZWN0ZWRfZWxzID0gW1xuICAgICAgICAgICAgcG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5X3BhcmVudF9lbCxcbiAgICAgICAgICAgIHBvaW50X2Nsb3VkX2xvb3BfZGlzcGxheV9sYWJlbF9lbCxcbiAgICAgICAgICAgIHBvaW50X2Nsb3VkX3BvaW50c19wZXJfbG9vcF9sYWJlbF9lbCxcbiAgICAgICAgICAgIHBvaW50X2Nsb3VkX3BvaW50c19wZXJfbG9vcF9wYXJlbnRfZWwsXG4gICAgICAgIF07XG4gICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGFmZmVjdGVkX2Vscykge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBhZmZlY3RlZF9lbHMpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRfcG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5KGZhbHNlKTtcblxuICAgIGNvbnN0IGNvbmZpZ19kaXNwbGF5X2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kZV9wbG90dGVyX2NvbmZpZ19kaXNwbGF5Jyk7XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5X2NvbmZpZyhjb25maWcpIHtcbiAgICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZ19kaXNwbGF5X2VsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgY29uZmlnX2Rpc3BsYXlfZWwuaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWdfZGlzcGxheV9lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZHQsIHgwLCBwYXJhbXMsIHNraXAsIHN0ZXBzLCBwb2ludF9jbG91ZCB9ID0gY29uZmlnO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goJy0tLSBDT05GSUcgLS0tJyk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBkdDogJHtkdH1gKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHgwOiBbJHt4MC5qb2luKCcsICcpfV1gKTtcbiAgICAgICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyYW1zX3N0cjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc19zdHIgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNfc3RyID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNfc3RyID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goYHBhcmFtczogJHtwYXJhbXNfc3RyfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNraXApIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGBza2lwOiAke3NraXB9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RlcHMpIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGBzdGVwczogJHtzdGVwc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb2ludF9jbG91ZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbiwgYywgciwgZHQ6cGNfZHQ9ZHQsIHN0ZXBzOnBjX3N0ZXBzIH0gPSBwb2ludF9jbG91ZDtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGAtLS0gcG9pbnQgY2xvdWQgLS0tYCk7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChgbjogJHtufSwgYzogWyR7Yy5qb2luKCcsICcpfV0sIGR0OiAke3BjX2R0fSR7cGNfc3RlcHMgPyBgLCBzdGVwczoke3BjX3N0ZXBzfWAgOiAnJ319YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWdfZGlzcGxheV9lbC5pbm5lclRleHQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwbGF5X2NvbmZpZygpO1xuXG4gICAgY29uc3QgcGxvdF9oZWlnaHQgPSA3MjA7XG4gICAgcGxvdF9lbC5zdHlsZSA9IGBoZWlnaHQ6ICR7cGxvdF9oZWlnaHR9cHhgO1xuXG4gICAgY29uc3QgR2VuZXJhdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uKigpe30pLmNvbnN0cnVjdG9yO1xuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVfZihmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlX2ludGVncmF0b3IoaW50ZWdyYXRvcikge1xuICAgICAgICBpZiAodHlwZW9mIGludGVncmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW50ZWdyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZV9wb2ludF9jbG91ZChwb2ludF9jbG91ZCkge1xuICAgICAgICBpZiAoIHR5cGVvZiBwb2ludF9jbG91ZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9pbnRfY2xvdWQgbXVzdCBiZSBhbiBvYmplY3QnKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbiwgYywgciwgZHQsIHN0ZXBzIH0gPSBwb2ludF9jbG91ZDtcbiAgICAgICAgaWYgKHR5cGVvZiBuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludF9jbG91ZC5uIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG4pIHx8IG4gPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludF9jbG91ZC5uIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludF9jbG91ZC5jIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGMpIHx8IGMubGVuZ3RoIDw9IDAgfHwgYy5zb21lKGUgPT4gKHR5cGVvZiBlICE9PSAnbnVtYmVyJykpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBvaW50X2Nsb3VkLmMgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheSBvZiBudW1iZXJzYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludF9jbG91ZC5yIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByICE9PSAnbnVtYmVyJyB8fCByIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9pbnRfY2xvdWQuciBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkdCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBkdCAhPT0gJ251bWJlcicgfHwgZHQgPD0gMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcG9pbnRfY2xvdWQuZHQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc3RlcHMgIT09ICd1bmRlZmluZWQnICYmICghTnVtYmVyLmlzSW50ZWdlcihzdGVwcykgfHwgc3RlcHMgPCAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGVwcyBwb2ludF9jbG91ZG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlX2NvbmZpZyhjb25maWcsIHN0cnVjdHVyZV9uYW1lPSdjb25maWcnKSB7XG4gICAgICAgIGlmICggdHlwZW9mIGNvbmZpZyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzdHJ1Y3R1cmVfbmFtZX0gbXVzdCBiZSBhbiBvYmplY3RgKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaW50ZWdyYXRvciwgZHQsIHgwLCBza2lwLCBzdGVwcywgcG9pbnRfY2xvdWQgfSA9IGNvbmZpZzsgIC8vIHBhcmFtcyBpcyB1bnJlc3RyaWN0ZWRcbiAgICAgICAgaWYgKGludGVncmF0b3IpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlX2ludGVncmF0b3IoaW50ZWdyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkdCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBkdCAhPT0gJ251bWJlcicgfHwgZHQgPD0gMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzdHJ1Y3R1cmVfbmFtZX0uZHQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgeDAgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgKCFBcnJheS5pc0FycmF5KHgwKSB8fCB4MC5sZW5ndGggPD0gMCB8fCB4MC5zb21lKGUgPT4gKHR5cGVvZiBlICE9PSAnbnVtYmVyJykpKSApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzdHJ1Y3R1cmVfbmFtZX0ueDAgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheSBvZiBudW1iZXJzYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBza2lwICE9PSAndW5kZWZpbmVkJyAmJiAoIU51bWJlci5pc0ludGVnZXIoc2tpcCkgfHwgc2tpcCA8IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c3RydWN0dXJlX25hbWV9LnNraXAgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzdGVwcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKCFOdW1iZXIuaXNJbnRlZ2VyKHN0ZXBzKSB8fCBzdGVwcyA8IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c3RydWN0dXJlX25hbWV9LnN0ZXBzIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludF9jbG91ZCkge1xuICAgICAgICAgICAgdmFsaWRhdGVfcG9pbnRfY2xvdWQocG9pbnRfY2xvdWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlX2VxdWF0aW9uX2RlZihlcXVhdGlvbl9kZWYpIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgZXF1YXRpb25fZGVmICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlcXVhdGlvbiBkZWZpbml0aW9uIG11c3QgYmUgYW4gb2JqZWN0JylcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZV9jb25maWcoZXF1YXRpb25fZGVmLCAnZXF1YXRpb25fZGVmJyk7ICAvLyBlcXVhdGlvbl9kZWYgaXMgYSBzdWJjbGFzcyBvZiBjb25maWdcbiAgICAgICAgY29uc3QgeyB0aXRsZSwgZiwgaXRlciwgaXRlcl9kZWxheSB9ID0gZXF1YXRpb25fZGVmO1xuICAgICAgICBpZiAodHlwZW9mIHRpdGxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGl0bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VxdWF0aW9uX2RlZi50aXRsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdG9yX2ZuID0gaXRlcltTeW1ib2wuaXRlcmF0b3JdO1xuICAgICAgICAgICAgaWYgKCAodHlwZW9mIGl0ZXJhdG9yX2ZuICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaXRlcmF0b3JfZm4gIT09ICdmdW5jdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICEoaXRlciBpbnN0YW5jZW9mIEdlbmVyYXRvcikgKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlcXVhdGlvbl9kZWYuaXRlciBtdXN0IGJlIGFuIGl0ZXJhYmxlIG9yIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyX2RlbGF5ICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIGl0ZXJfZGVsYXkgIT09ICdudW1iZXInIHx8IGl0ZXJfZGVsYXkgPCAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlcXVhdGlvbl9kZWYuaXRlcl9kZWxheSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXF1YXRpb25fZGVmLmYgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxpZGF0ZV9mKGYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJ1bm5lcjtcbiAgICBjb25zdCBzZXRfcnVubmluZ19zdGF0ZSA9IChydW5uaW5nKSA9PiB7XG4gICAgICAgIHJ1bm5lcj8uc3RvcCgpO1xuICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgY29uc3QgbmV3X3J1bm5lciA9IG5ldyBSdW5uZXIodGhlX2VxdWF0aW9uX2RlZik7XG4gICAgICAgICAgICBydW5uZXIgPSBuZXdfcnVubmVyO1xuICAgICAgICAgICAgbmV3X3J1bm5lci5kb25lLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld19ydW5uZXIuc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0X3J1bm5pbmdfc3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV3X3J1bm5lci5zdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRfcnVubmluZ19zdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcG9pbnRfY291bnRfZGlzcGxheV9lbC5pbm5lclRleHQgPSAnJztcbiAgICAgICAgICAgIGdvX2J1dHRvbi5pbm5lclRleHQgPSAnU3RvcCc7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RlX3Bsb3R0ZXJfcGxheV9jb250cm9scycpLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBydW5uZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBnb19idXR0b24uaW5uZXJUZXh0ID0gJ0dvJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnb19idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0X3J1bm5pbmdfc3RhdGUoIXJ1bm5lcik7XG4gICAgfSk7XG5cbiAgICBjbGFzcyBSdW5uZXIge1xuICAgICAgICBjb25zdHJ1Y3RvcihlcXVhdGlvbl9kZWYpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlX2VxdWF0aW9uX2RlZihlcXVhdGlvbl9kZWYpO1xuXG4gICAgICAgICAgICB0aGlzLl9lcXVhdGlvbl9kZWYgPSBlcXVhdGlvbl9kZWY7XG5cbiAgICAgICAgICAgIHRoaXMuX3hzID0gW107XG4gICAgICAgICAgICB0aGlzLl95cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fenMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2NzID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2dkYXRhID0gW3tcbiAgICAgICAgICAgICAgICBuYW1lOiAnZXF1YXRpb24nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzY2F0dGVyM2QnLFxuICAgICAgICAgICAgICAgIG1vZGU6ICdsaW5lcycsXG4gICAgICAgICAgICAgICAgeDogdGhpcy5feHMsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5feXMsXG4gICAgICAgICAgICAgICAgejogdGhpcy5fenMsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5fY3MsXG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VzY2FsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgICBkaXNwbGF5X2NvbmZpZygpO1xuICAgICAgICAgICAgc2V0X3BvaW50X2Nsb3VkX2xvb3BfZGlzcGxheShmYWxzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdXNlX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdGhlX3Bsb3RfZWxfbW91c2Vkb3duX2hhbmRsZXIgPSAoZXZlbnQpID0+IHsgdGhpcy5fbW91c2VfcGF1c2VkID0gdHJ1ZTsgfTtcbiAgICAgICAgICAgIHRoaXMuX3RoZV9wbG90X2VsX21vdXNlZG93bl9oYW5kbGVyX29wdGlvbnMgPSB7IGNhcHR1cmU6IHRydWUgfTtcbiAgICAgICAgICAgIHRoaXMuX3RoZV9wbG90X2VsX21vdXNldXBfaGFuZGxlciA9IChldmVudCkgPT4geyB0aGlzLl9tb3VzZV9wYXVzZWQgPSBmYWxzZTsgfTtcbiAgICAgICAgICAgIHRoaXMuX3RoZV9wbG90X2VsX21vdXNldXBfaGFuZGxlcl9vcHRpb25zID0geyBjYXB0dXJlOiB0cnVlIH07XG4gICAgICAgICAgICBwbG90X2VsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ21vdXNlZG93bicsXG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlX3Bsb3RfZWxfbW91c2Vkb3duX2hhbmRsZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlX3Bsb3RfZWxfbW91c2Vkb3duX2hhbmRsZXJfb3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBsb3RfZWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2V1cCcsXG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlX3Bsb3RfZWxfbW91c2V1cF9oYW5kbGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuX3RoZV9wbG90X2VsX21vdXNldXBfaGFuZGxlcl9vcHRpb25zXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLl9idXR0b25fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl90aGVfcGF1c2VfYnV0dG9uX2NsaWNrX2hhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idXR0b25fcGF1c2VkID0gIXRoaXMuX2J1dHRvbl9wYXVzZWQ7XG4gICAgICAgICAgICAgICAgc2V0X3BhdXNlX2J1dHRvbl9zdGF0ZSh0aGlzLl9idXR0b25fcGF1c2VkLCB0aGlzLl9ydW5uaW5nKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl90aGVfcGF1c2VfYnV0dG9uX2NsaWNrX2hhbmRsZXJfb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgcGF1c2VfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICB0aGlzLl90aGVfcGF1c2VfYnV0dG9uX2NsaWNrX2hhbmRsZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlX3BhdXNlX2J1dHRvbl9jbGlja19oYW5kbGVyX29wdGlvbnNcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fZG9uZSA9IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZXRfZ29fYnV0dG9uX3N0YXRlKHRoaXMuX3J1bm5pbmcpO1xuICAgICAgICAgICAgICAgIHNldF9wYXVzZV9idXR0b25fc3RhdGUodGhpcy5fYnV0dG9uX3BhdXNlZCwgdGhpcy5fcnVubmluZyk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRpdGxlLCBmLCBpdGVyX2RlbGF5IH0gPSB0aGlzLl9lcXVhdGlvbl9kZWY7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHsgaXRlciB9ID0gdGhpcy5fZXF1YXRpb25fZGVmO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXIgPSBbe31dOyAgLy8gb25lIGVtcHR5IGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZXIgaW5zdGFuY2VvZiBHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXIgPSBpdGVyKHRoaXMuX2VxdWF0aW9uX2RlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlciBpcyBub3cgYW4gaXRlcmFibGVcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlyc3RfaXRlcmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb25maWcgb2YgaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyX2RhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkX2NvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLl9lcXVhdGlvbl9kZWYsICAvLyB0aGlzLl9lcXVhdGlvbl9kZWYgbWF5IGNvbnRhaW4gY29uZmlnIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb25maWcsICAgICAgICAgICAgICAvLyBjb25maWcgcHJvcGVydGllcyBvdmVycmlkZSB0aG9zZSBpbiB0aGlzLl9lcXVhdGlvbl9kZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZV9jb25maWcobWVyZ2VkX2NvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVyX2RlbGF5ICYmICFmaXJzdF9pdGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgaXRlcl9kZWxheSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfaXRlcmF0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaW50ZWdyYXRvciwgZHQsIHgwLCBwYXJhbXMsIHNraXA9MCwgc3RlcHM9SW5maW5pdHksIHBvaW50X2Nsb3VkIH0gPSBtZXJnZWRfY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnRlZ3JhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW50ZWdyYXRvciB3YXMgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2R0IHdhcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHgwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigneDAgd2FzIG5vdCBzcGVjaWZpZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheV9jb25maWcobWVyZ2VkX2NvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gWyAuLi54MCBdOyAgLy8gY29weSB4MCB0byBpbnN1bGF0ZSBmcm9tIG11dGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkKHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGxvdF9mbiA9IFBsb3RseS5uZXdQbG90O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50X2NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9ydW5uaW5nICYmIHBvaW50X2NvdW50IDwgc2tpcCtzdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzX3Blcl9sb29wID0gcGFyc2VJbnQocG9pbnRzX3Blcl9sb29wX2VsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbHAgPSAwOyBscCA8IHBvaW50c19wZXJfbG9vcDsgbHArKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gaW50ZWdyYXRvcihkdCwgZiwgeCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50X2NvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRfY291bnQgPj0gc2tpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZCh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludF9jb3VudCA+PSBza2lwK3N0ZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmltX2RhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRfY291bnQgPj0gc2tpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd19kYXRhKHBsb3RfZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdF9mbiA9IFBsb3RseS5yZWFjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50X2NvdW50X2Rpc3BsYXlfZWwuaW5uZXJUZXh0ID0gcG9pbnRfY291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50X2NvdW50IDwgc2tpcCtzdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb29wX2RlbGF5ID0gcGFyc2VJbnQobG9vcF9kZWxheV9lbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBsb29wX2RlbGF5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb25lIHBsb3R0aW5nIGdyYXBoIGZvciB0aGlzIGNvbmZpZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsbHksIHJ1biBpdHMgcG9pbnQgY2xvdWQsIGlmIGFueS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ydW5uaW5nICYmIHBvaW50X2Nsb3VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcnVuX3BvaW50X2Nsb3VkKGYsIG1lcmdlZF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSwgZXJyLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYCR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHJ1bm5pbmcgKCl7IHJldHVybiB0aGlzLl9ydW5uaW5nOyB9XG4gICAgICAgIGdldCBwYXVzZWQgICgpeyByZXR1cm4gdGhpcy5fbW91c2VfcGF1c2VkIHx8IHRoaXMuX2J1dHRvbl9wYXVzZWQ7IH1cbiAgICAgICAgZ2V0IHN0b3BwZWQgKCl7IHJldHVybiB0aGlzLl9zdG9wcGVkOyB9XG4gICAgICAgIGdldCBkb25lICAgICgpeyByZXR1cm4gdGhpcy5fZG9uZTsgfVxuXG4gICAgICAgIHN0b3AoKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHBsb3RfZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICB0aGlzLl90aGVfcGxvdF9lbF9tb3VzZWRvd25faGFuZGxlcixcbiAgICAgICAgICAgICAgICB0aGlzLl90aGVfcGxvdF9lbF9tb3VzZWRvd25faGFuZGxlcl9vcHRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcGxvdF9lbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgICAgICAgICB0aGlzLl90aGVfcGxvdF9lbF9tb3VzZXVwX2hhbmRsZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlX3Bsb3RfZWxfbW91c2V1cF9oYW5kbGVyX29wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwYXVzZV9idXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICAgICAgIHRoaXMuX3RoZV9wYXVzZV9idXR0b25fY2xpY2tfaGFuZGxlcixcbiAgICAgICAgICAgICAgICB0aGlzLl90aGVfcGF1c2VfYnV0dG9uX2NsaWNrX2hhbmRsZXJfb3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldF9wYXVzZV9idXR0b25fc3RhdGUodGhpcy5fYnV0dG9uX3BhdXNlZCwgdGhpcy5fcnVubmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbnRlcm5hbFxuXG4gICAgICAgIF9jbGVhcl9kYXRhKCkge1xuICAgICAgICAgICAgdGhpcy5feHMuc3BsaWNlKDAsIHRoaXMuX3hzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLl95cy5zcGxpY2UoMCwgdGhpcy5feXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuX3pzLnNwbGljZSgwLCB0aGlzLl96cy5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5fY3Muc3BsaWNlKDAsIHRoaXMuX2NzLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdHJpbV9kYXRhKCkge1xuICAgICAgICAgICAgbGV0IGxpbWl0ID0gcGFyc2VJbnQocG9pbnRzX3Nob3duX2VsLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihsaW1pdCkpIHtcbiAgICAgICAgICAgICAgICBsaW1pdCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5feHMubGVuZ3RoID4gbGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94cy5zcGxpY2UoMCwgdGhpcy5feHMubGVuZ3RoLWxpbWl0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl95cy5zcGxpY2UoMCwgdGhpcy5feXMubGVuZ3RoLWxpbWl0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl96cy5zcGxpY2UoMCwgdGhpcy5fenMubGVuZ3RoLWxpbWl0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcy5zcGxpY2UoMCwgdGhpcy5fY3MubGVuZ3RoLWxpbWl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9hZGQoW3gsIHksIHpdLCBjPTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3hzLnB1c2goeCA/PyAwKTtcbiAgICAgICAgICAgIHRoaXMuX3lzLnB1c2goeSA/PyAwKTtcbiAgICAgICAgICAgIHRoaXMuX3pzLnB1c2goeiA/PyAwKTtcbiAgICAgICAgICAgIHRoaXMuX2NzLnB1c2goYyk7XG4gICAgICAgIH1cblxuICAgICAgICBfZHJhd19kYXRhKHBsb3RfZm4sIG5vX3VwZGF0ZV9yZXZpc2lvbj1mYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgbGF5b3V0ID0ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogcGxvdF9oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFub191cGRhdGVfcmV2aXNpb24pIHtcbiAgICAgICAgICAgICAgICBsYXlvdXQuZGF0YXJldmlzaW9uID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vdGU6IHBsb3RfZWwuX2Z1bGxMYXlvdXQgaXMgdW5kb2N1bWVudGVkLi4uXG4gICAgICAgICAgICBpZiAocGxvdF9lbC5fZnVsbExheW91dD8uc2NlbmU/LmNhbWVyYSkge1xuICAgICAgICAgICAgICAgIGxheW91dC5zY2VuZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhOiBwbG90X2VsLl9mdWxsTGF5b3V0LnNjZW5lLmNhbWVyYSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2VxdWF0aW9uX2RlZj8udGl0bGUpIHtcbiAgICAgICAgICAgICAgICBsYXlvdXQudGl0bGUgPSB0aGlzLl9lcXVhdGlvbl9kZWYudGl0bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbG90X2ZuKHBsb3RfZWwsIHRoaXMuX2dkYXRhLCBsYXlvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmMgX3J1bl9wb2ludF9jbG91ZChmLCBjb25maWcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW50ZWdyYXRvciwgZHQsIHgwLCBwYXJhbXMsIHBvaW50X2Nsb3VkIH0gPSBjb25maWc7XG4gICAgICAgICAgICBjb25zdCB7IG4sIGMsIHIsIGR0OnBjX2R0PWR0LCBzdGVwcz1JbmZpbml0eSB9ID0gcG9pbnRfY2xvdWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IEFycmF5VHlwZSA9IEZsb2F0NjRBcnJheTtcblxuICAgICAgICAgICAgc2V0X3BvaW50X2Nsb3VkX2xvb3BfZGlzcGxheSh0cnVlLCAnJyk7XG5cbiAgICAgICAgICAgIC8vIGNvbmZpZyBjb250YWlucyBwb2ludF9jbG91ZFxuICAgICAgICAgICAgLy8gYXNzdW1lIGNvbmZpZyBoYXMgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9nZGF0YSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZDogIXRoaXMuX2dkYXRhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCB1cCB3b3JrZXJzXG4gICAgICAgICAgICBjb25zdCB3b3JrZXJfY291bnQgPSB3b3JrZXJfcG9vbC53b3JrZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50c19wZXJfd29ya2VyID0gTWF0aC5mbG9vcihuIC8gd29ya2VyX2NvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlcl9kZXNjcyA9IFsgLi4ud29ya2VyX3Bvb2wud29ya2VycyBdLm1hcCgod29ya2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaW5kZXgqcG9pbnRzX3Blcl93b3JrZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kICAgPSAoaW5kZXggPj0gd29ya2VyX2NvdW50LTEpID8gbiA6IChzdGFydCArIHBvaW50c19wZXJfd29ya2VyKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50X2NvdW50ID0gKGVuZCAtIHN0YXJ0KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBjX3RyYWNlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncG9pbnQgY2xvdWQnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2NhdHRlcjNkJyxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ21hcmtlcnMnLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgwLCAwLCAyNTUsIDEuMCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB4OiBuZXcgQXJyYXlUeXBlKHBvaW50X2NvdW50KSxcbiAgICAgICAgICAgICAgICAgICAgeTogbmV3IEFycmF5VHlwZShwb2ludF9jb3VudCksXG4gICAgICAgICAgICAgICAgICAgIHo6IG5ldyBBcnJheVR5cGUocG9pbnRfY291bnQpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBwb2ludF9jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgcGNfdHJhY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB3b3JrZXIgc3RhdGUsIGV0Y1xuICAgICAgICAgICAgZm9yIChjb25zdCB3b3JrZXJfZGVzYyBvZiB3b3JrZXJfZGVzY3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZXIgICA9IHdvcmtlcl9kZXNjLndvcmtlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBwY190cmFjZSA9IHdvcmtlcl9kZXNjLnBjX3RyYWNlO1xuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgcGNfdHJhY2UgeCwgeSwgeiBhcnJheXMgd2l0aCB0aGUgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmtlcl9kZXNjLnBvaW50X2NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIGluaXRpYWwgcG9zaXRpb25zIG9mIHRoZSBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBvaW50cyB3ZSBnZW5lcmF0ZSBoZXJlIGxpZSBpbiBhIE4tY3ViZSBjZW50ZXJlZCBhdCBjXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggc2lkZSBsZW5ndGggMipyICh3aGVyZSBOID0gYy5sZW5ndGgpLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBbIHgsIHksIHogXSA9IGMubWFwKHhpID0+IHhpICsgcioyKihNYXRoLnJhbmRvbSgpIC0gMC41KSk7XG4gICAgICAgICAgICAgICAgICAgIHBjX3RyYWNlLnhbaV0gPSB4O1xuICAgICAgICAgICAgICAgICAgICBwY190cmFjZS55W2ldID0geTtcbiAgICAgICAgICAgICAgICAgICAgcGNfdHJhY2UueltpXSA9IHo7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIG5ldyB0cmFjZSB0byB0aGUgZ3JhcGhpY3MgZGF0YVxuICAgICAgICAgICAgICAgIHRoaXMuX2dkYXRhLnB1c2gocGNfdHJhY2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHVwIHdvcmtlciBzdGF0ZVxuICAgICAgICAgICAgICAgIGF3YWl0IHdvcmtlci5ldmFsKGBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWyBwY19kdCwgcGFyYW1zLCBwb2ludF9jb3VudCwgeCwgeSwgeiBdID0gb2JqZWN0cztcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7IHBjX2R0LCBwYXJhbXMsIHBvaW50X2NvdW50LCB4LCB5LCB6IH0pO1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLmludGVncmF0b3IgPSAke2ludGVncmF0b3IudG9TdHJpbmcoKX07XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMuZiA9ICR7Zi50b1N0cmluZygpfTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5wb2ludHNfYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHBvaW50X2NvdW50KjMqRmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludF9jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludF92aWV3ID0gbmV3IEZsb2F0NjRBcnJheShnbG9iYWxUaGlzLnBvaW50c19idWZmZXIsIGkqMypGbG9hdDY0QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRfdmlld1swXSA9IHhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludF92aWV3WzFdID0geVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50X3ZpZXdbMl0gPSB6W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5wb2ludHMucHVzaChwb2ludF92aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGAsIHBjX2R0LCBwYXJhbXMsIHdvcmtlcl9kZXNjLnBvaW50X2NvdW50LCBwY190cmFjZS54LCBwY190cmFjZS55LCBwY190cmFjZS56ICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1haW5fbG9vcDpcbiAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgc3RlcHM7IC8qIHMgaW5jcmVtZW50ZWQgYmVsb3cgKi8pIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5wYXVzZWQgJiYgdGhpcy5fcnVubmluZykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSksIDEwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcnVubmluZykge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBtYWluX2xvb3A7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgY2FsY3VsYXRpb25zIGluIHdvcmtlcnMgZmlyc3QsIHRoZW4gZHJhdyxcbiAgICAgICAgICAgICAgICAvLyB0aGVuIHdhaXQgZm9yIGNhbGN1bGF0aW9ucyB0byBjb21wbGV0ZVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IHBhcnNlSW50KHBvaW50X2Nsb3VkX3BvaW50c19wZXJfbG9vcF9lbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsY19wcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlcl9kZXNjcy5tYXAod29ya2VyX2Rlc2MgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcl9kZXNjLndvcmtlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5ldmFsKGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgWyBpdGVyYXRpb25zIF0gPSBvYmplY3RzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVyYXRpb24gPSAwOyBpdGVyYXRpb24gPCBpdGVyYXRpb25zOyBpdGVyYXRpb24rKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludF9jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGludGVncmF0b3IocGNfZHQsIGYsIHBvaW50LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhbaV0gPSBwb2ludFswXSA9IHBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeVtpXSA9IHBvaW50WzFdID0gcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6W2ldID0gcG9pbnRbMl0gPSBwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbIHgsIHksIHogXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLCBpdGVyYXRpb25zIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoWyBuZXdfeCwgbmV3X3ksIG5ld196IF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyX2Rlc2MucGNfdHJhY2UueCA9IG5ld194O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXJfZGVzYy5wY190cmFjZS55ID0gbmV3X3k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlcl9kZXNjLnBjX3RyYWNlLnogPSBuZXdfejtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3X2RhdGEoUGxvdGx5LnJlYWN0LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGNfcHJvbWlzZTtcbiAgICAgICAgICAgICAgICBzICs9IGl0ZXJhdGlvbnM7XG5cbiAgICAgICAgICAgICAgICBzZXRfcG9pbnRfY2xvdWRfbG9vcF9kaXNwbGF5KHRydWUsIHMrMSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb29wX2RlbGF5ID0gcGFyc2VJbnQobG9vcF9kZWxheV9lbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGxvb3BfZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RlX3Bsb3R0ZXJfYWRqdXN0bWVudHMnKS5zY3JvbGxJbnRvVmlldyhmYWxzZSk7XG4gICAgICAgIGdvX2J1dHRvbi5mb2N1cygpO1xuICAgIH0sIDUwMCk7XG59XG52YXJzKHsgc2V0dXAgfSk7Iiwib3V0cHV0IjpbXSwiZm9ybWF0dGluZ19vcHRpb25zIjp7ImFsaWduIjoibGVmdCIsImluZGVudCI6IjBlbSJ9fSx7ImlkIjoiaWQtZmQ5MjA0YTctMzg5YS00MTFmLTg0ZjEtN2FiYTc0N2E4NTA1IiwiaW5wdXQiOiIvLyBhdXRvaGlkZVxuXG4vLyBpbnRlZ3JhdG9yOlxuLy8gZih4KSByZXR1cm5zIHhkb3Qgd2hpY2ggaGFzIHRoZSBzYW1lIGRpbWVuc2lvbiBhcyB4XG4vLyBpbnRlZ3JhdG9yIHJldHVybnMgYSBuZXcgeCB3aXRoIHRoZSBzYW1lIGRpbWVuc2lvbiBhcyB0aGUgb3JpZ2luYWxcblxuZnVuY3Rpb24gcnVuZ2Vfa3V0dGFfaW50ZWdyYXRvcihkdCwgZiwgeCwgcGFyYW1zKSB7XG4gICAgLy8gVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgZm91cnRoLW9yZGVyIFJ1bmdlLUt1dHRhIG1ldGhvZFxuICAgIC8vIGFzIHByZXNlbnRlZCBpbiBOb25saW5lYXIgRHluYW1pY3MgYW5kIENoYW9zLCBTZWNvbmQgRWRpdGlvbiwgYnlcbiAgICAvLyBTdGV2ZW4gSC4gU3Ryb2dhdHosIHBhZ2UgMzQuXG4gICAgLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiB3b3JrcyBmb3IgeCB3aXRoIGFyYml0cmFyeSBkaW1lbnNpb24uXG4gICAgY29uc3QgazEgPSBmKCB4LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zICkubWFwKCB4aWRvdCA9PiB4aWRvdCpkdCApO1xuICAgIGNvbnN0IGsyID0gZiggeC5tYXAoICh4aSwgaSkgPT4geGkgKyBrMVtpXS8yICksIHBhcmFtcyApLm1hcCggeGlkb3QgPT4geGlkb3QqZHQgKTtcbiAgICBjb25zdCBrMyA9IGYoIHgubWFwKCAoeGksIGkpID0+IHhpICsgazJbaV0vMiApLCBwYXJhbXMgKS5tYXAoIHhpZG90ID0+IHhpZG90KmR0ICk7XG4gICAgY29uc3QgazQgPSBmKCB4Lm1hcCggKHhpLCBpKSA9PiB4aSArIGszW2ldKSwgICAgcGFyYW1zICkubWFwKCB4aWRvdCA9PiB4aWRvdCpkdCApO1xuICAgIHJldHVybiB4Lm1hcCggKHhpLCBpKSA9PiB4aSArIChrMVtpXSArIDIqazJbaV0gKyAyKmszW2ldICsgazRbaV0pLzYgKTtcbn1cblxudmFycyh7IHJ1bmdlX2t1dHRhX2ludGVncmF0b3IgfSk7Iiwib3V0cHV0IjpbXSwiZm9ybWF0dGluZ19vcHRpb25zIjp7ImFsaWduIjoibGVmdCIsImluZGVudCI6IjBlbSJ9fSx7ImlkIjoiaWQtNDM1OTBkNDItYzExYi00YzYwLWI2MzEtMmFjNjZiZjA0ZDBkIiwiaW5wdXQiOiIvL1xuY29uc3QgZ28gPSBzZXR1cC5iaW5kKHRoaXMsIG91dHB1dF9jb250ZXh0KTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gRXF1YXRpb25EZWYgPSBDb25maWcgKyB7XG4vLyAgICAgdGl0bGU/OiBzdHJpbmcsXG4vLyAgICAgZjogRnVuY3Rpb24sXG4vLyAgICAgaXRlcj86IGl0ZXJhYmxlPENvbmZpZz58Z2VuZXJhdG9yPENvbmZpZz4oZGVmOiBFcXVhdGlvbkRlZiksXG4vLyAgICAgaXRlcl9kZWxheT86IG51bWJlcixcbi8vIH1cbi8vXG4vLyBDb25maWcgPSB7XG4vLyAgICAgaW50ZWdyYXRvcj86IChkdDogbnVtYmVyLCBmOiBGdW5jdGlvbiwgeDogbnVtYmVyW10sIHBhcmFtczogYW55KSA9PiBudW1iZXJbXSxcbi8vICAgICBkdD86IG51bWJlcixcbi8vICAgICB4MD86IG51bWJlcltdLFxuLy8gICAgIHBhcmFtcz86IGFueSxcbi8vICAgICBza2lwPzogIGludGVnZXIsXG4vLyAgICAgc3RlcHM/OiBpbnRlZ2VyLFxuLy8gICAgIHBvaW50X2Nsb3VkPzogUG9pbnRDbG91ZCxcbi8vIH1cbi8vXG4vLyBQb2ludENsb3VkID0ge1xuLy8gICAgIG46IGludGVnZXIsXG4vLyAgICAgYzogbnVtYmVyW107XG4vLyAgICAgcjogbnVtYmVyLFxuLy8gICAgIGR0PzogbnVtYmVyLFxuLy8gICAgIHN0ZXBzPzogaW50ZWdlcixcbi8vIH1cbi8vXG4vLyBGdW5jdGlvbiA9ICh4OiBudW1iZXJbXSwgcGFyYW1zPzogYW55KSA9PiBudW1iZXJbXVxuLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vIERlZmluaXRpb25zIGZvciBzb21lIGNoYW90aWMgYXR0cmFjdG9ycyBwcm92aWRlZCBieSBEci4gSmFtZXMgUC4gQ3J1dGNoZmllbGRcbi8vIChvbmUgb2YgdGhlIHBpb25lZXJzIG9mIENoYW9zIFRoZW9yeSkuXG4vL1xuLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gY2hhb3RpYyBhdHRyYWN0b3JzIHNlZSBMZWN0dXJlIDMgb24gdGhlIFJvYWRtYXAgcGFnZSBhdCB0aGUgY291cnNlOlxuLy9cbi8vICAgICAgICAgICAgICAgICBodHRwOi8vY3NjLnVjZGF2aXMuZWR1L35jaGFvcy9jb3Vyc2VzL3BvY2kvXG5cbmNvbnN0IGludGVncmF0b3IgPSBydW5nZV9rdXR0YV9pbnRlZ3JhdG9yO1xuXG5jb25zdCBsb3JlbnpfZGVmID0ge1xuICAgIHRpdGxlOiAnTG9yZW56IEF0dHJhY3RvcicsXG4gICAgaW50ZWdyYXRvcixcbiAgICBkdDogMC4wMDUsXG4gICAgeDA6IFszLCAzLCAxXSxcbiAgICBmOiAgKCAoc2lnbWE9MTAsIHI9MjgsIGI9OC8zKSA9PlxuICAgICAgICAgIChbeCwgeSwgel0pID0+IFsgIC8vIHRoaXMgaXMgZiwgYW5kIGl0IHRha2VzIDEgYXJndW1lbnQgd2hpY2ggaXMgZGVjb21wb3NlZCBpbnRvIFt4LCB5LCB6XVxuICAgICAgICAgICAgICBzaWdtYSooeSAtIHgpLFxuICAgICAgICAgICAgICByKnggLSB5IC0geCp6LFxuICAgICAgICAgICAgICB4KnkgLSBiKnosXG4gICAgICAgICAgXVxuICAgICAgICApKClcbn07XG5cbmNvbnN0IG93bF9kZWYgPSB7XG4gICAgdGl0bGU6ICdPd2wgQXR0cmFjdG9yJyxcbiAgICBpbnRlZ3JhdG9yLFxuICAgIGR0OiAwLjAwNSxcbiAgICB4MDogWzMsIDMsIDFdLFxuICAgIGY6ICAoIChhPTEwLCBiPTEwLCBjPTEzKSA9PlxuICAgICAgICAgIChbeCwgeSwgel0pID0+IFtcbiAgICAgICAgICAgICAgLWEqKHggKyB5KSxcbiAgICAgICAgICAgICAgLXkgLSBiKngqeixcbiAgICAgICAgICAgICAgMTAqeCp5ICsgYyxcbiAgICAgICAgICBdXG4gICAgICAgICkoKVxufTtcblxuY29uc3Qgcm9zc2xlcl9kZWYgPSB7XG4gICAgdGl0bGU6ICdS9nNzbGVyIEF0dHJhY3RvcicsXG4gICAgaW50ZWdyYXRvcixcbiAgICBkdDogMC4wMDgsXG4gICAgeDA6IFsxMCwgMTAsIDFdLFxuICAgIGY6ICAoIChhPTAuMiwgYj0wLjIsIGM9NS43KSA9PlxuICAgICAgICAgKFt4LCB5LCB6XSkgPT4gW1xuICAgICAgICAgICAgIC15IC0geixcbiAgICAgICAgICAgICB4ICsgYSp5LFxuICAgICAgICAgICAgIGIgKyB6Kih4IC0gYyksXG4gICAgICAgICBdXG4gICAgICAgICkoKVxufTtcblxuY29uc3QgcmlraXRha2UwX2RlZiA9IHsgIC8vIHNlZTogaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wbWMvYXJ0aWNsZXMvUE1DNzUxNzIxMC9cbiAgICB0aXRsZTogJ1Jpa2l0YWtlIEF0dHJhY3RvciAoIGZyb20gaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wbWMvYXJ0aWNsZXMvUE1DNzUxNzIxMC8gKScsXG4gICAgaW50ZWdyYXRvcixcbiAgICBkdDogMC4wMSxcbiAgICB4MDogWzMsIDEsIDZdLFxuICAgIGY6ICAoIChhbHBoYT01LCBiZXRhPTIpID0+XG4gICAgICAgICAgKFt4LCB5LCB6XSkgPT4gW1xuICAgICAgICAgICAgICAtYmV0YSp4ICsgeSp6LFxuICAgICAgICAgICAgICAtYmV0YSp5IC0gYWxwaGEqeCArIHgqeixcbiAgICAgICAgICAgICAgMSAtIHgqeSxcbiAgICAgICAgICBdXG4gICAgICAgICkoKVxufTtcblxuY29uc3QgcmlraXRha2VfZGVmID0ge1xuICAgIHRpdGxlOiAnUmlraXRha2UgQXR0cmFjdG9yJyxcbiAgICBpbnRlZ3JhdG9yLFxuICAgIGR0OiAwLjAwOSxcbiAgICB4MDogWzAuMjY4LCAyLCAwXSxcbiAgICBmOiAgKCAoYT0xLCBiPTMuNzUpID0+XG4gICAgICAgICAgKFt4LCB5LCB6XSkgPT4gW1xuICAgICAgICAgICAgICAtYSp4ICsgeip5LFxuICAgICAgICAgICAgICAtYSp5IC0gKHogLSBiKSp4LFxuICAgICAgICAgICAgICAxIC0geCp5LFxuICAgICAgICAgIF1cbiAgICAgICAgKSgpXG59O1xuXG5jb25zdCBoeXBlcmNoYW9zX2RlZiA9IHtcbiAgICB0aXRsZTogJ0h5cGVyY2hhb3MgQXR0cmFjdG9yJyxcbiAgICBpbnRlZ3JhdG9yLFxuICAgIGR0OiAwLjAwNSxcbiAgICB4MDogWy0yMCwgMTUsIDAsIDM1XSxcbiAgICBmOiAgKCAoYT0wLjI1LCBiPS0wLjUsIGM9Mi4yLCBkPTAuMDUpID0+XG4gICAgICAgICAgKFt4LCB5LCB6LCB3XSkgPT4gW1xuICAgICAgICAgICAgICAteSAtIHosXG4gICAgICAgICAgICAgIHggKyBhKnkgKyB3LFxuICAgICAgICAgICAgICBjICsgeCp6LFxuICAgICAgICAgICAgICBiKnogKyBkKncsXG4gICAgICAgICAgXVxuICAgICAgICApKClcbn07XG5cbmNvbnN0IHBvaW50X2Nsb3VkX2RlZiA9IHtcbiAgICB0aXRsZTogJ0xvcmVueiBBdHRyYWN0b3IgV2l0aCBQb2ludCBDbG91ZCcsXG4gICAgaW50ZWdyYXRvcixcbiAgICBkdDogMC4wMDUsXG4gICAgeDA6IFszLCAzLCAxXSxcbiAgICBwYXJhbXM6IHsgc2lnbWE6IDEwLCByOiAyOCwgYjogOC8zIH0sXG4gICAgZjogIChbeCwgeSwgel0sIHtzaWdtYSwgciwgYn0pID0+IFtcbiAgICAgICAgICAgICBzaWdtYSooeSAtIHgpLFxuICAgICAgICAgICAgIHIqeCAtIHkgLSB4KnosXG4gICAgICAgICAgICAgeCp5IC0gYip6LFxuICAgICAgICBdLFxuICAgIHNraXA6ICAxMDAwLFxuICAgIHN0ZXBzOiAxMDAwMCxcbiAgICBwb2ludF9jbG91ZDoge1xuICAgICAgICBuOiAxMDAwMCxcbiAgICAgICAgYzogWzEsIDEsIDFdLFxuICAgICAgICByOiAwLjA1LFxuICAgICAgICBkdDogMC4wNSxcbiAgICB9XG59O1xuXG4vLyBzZXQgdGhlIGVxdWF0aW9uIGRlZmluaXRpb24gdG8gcGxvdFxuXG4vLyBnbyhsb3JlbnpfZGVmKTtcbi8vIGdvKG93bF9kZWYpO1xuLy8gZ28ocm9zc2xlcl9kZWYpO1xuLy8gZ28ocmlraXRha2UwX2RlZik7XG4vLyBnbyhyaWtpdGFrZV9kZWYpO1xuLy8gZ28oaHlwZXJjaGFvc19kZWYpO1xuXG5nbyhwb2ludF9jbG91ZF9kZWYpO1xuIiwib3V0cHV0IjpbXSwiZm9ybWF0dGluZ19vcHRpb25zIjp7ImFsaWduIjoibGVmdCIsImluZGVudCI6IjBlbSJ9fV19
</div>
</body>
</html>
